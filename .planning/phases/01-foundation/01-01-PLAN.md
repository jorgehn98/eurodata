---
phase: 01-foundation
plan: "01"
type: execute
wave: 1
depends_on: []
files_modified:
  - package.json
  - tsconfig.json
  - next.config.ts
  - tailwind.config.ts
  - postcss.config.mjs
  - src/app/globals.css
  - src/app/layout.tsx
  - .env.local.example
  - .gitignore
  - vercel.json
autonomous: true
requirements:
  - INFRA-01
  - INFRA-02
  - INFRA-08

must_haves:
  truths:
    - "Running `npm run dev` starts the dev server without errors"
    - "Running `npm run build` produces a successful production build"
    - "TypeScript strict mode is enabled and `npx tsc --noEmit` passes with zero errors"
    - "Tailwind CSS is configured with a custom dashboard color palette and applies utility classes correctly"
    - "The project is connected to Vercel CI/CD — pushing to main triggers an automatic production deployment"
  artifacts:
    - path: "package.json"
      provides: "Project dependencies — next@14.x, typescript@5.x, tailwindcss@3.x all present"
    - path: "tsconfig.json"
      provides: "TypeScript configuration with strict: true"
    - path: "tailwind.config.ts"
      provides: "Tailwind v3 config with extended color palette for dashboard"
    - path: "next.config.ts"
      provides: "Next.js 14 config using TypeScript import syntax (not CommonJS require)"
  key_links:
    - from: "tailwind.config.ts"
      to: "src/app/globals.css"
      via: "@tailwind directives"
      pattern: "@tailwind base"
    - from: "next.config.ts"
      to: "Vercel build"
      via: "next build"
      pattern: "export default"
---

<objective>
Scaffold the EuroData Next.js 14 project with TypeScript strict mode, Tailwind CSS v3 with custom design tokens, and connect it to Vercel for automatic CI/CD on push to main.

Purpose: This is the root dependency for the entire project. Nothing else can be built until this exists. The directory structure established here — specifically the absence of `[locale]` at this stage — is intentionally temporary; Plan 02 will insert the i18n layer before any content pages are added.

Output: A working Next.js 14 App Router project that builds successfully, with Tailwind configured for the dashboard palette and Vercel CI/CD active.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-foundation/01-RESEARCH.md
</context>

<tasks>

<task type="checkpoint:human-action">
  <name>Task 1: Create GitHub repo and scaffold Next.js project</name>
  <files>
    package.json
    tsconfig.json
    next.config.ts
    tailwind.config.ts
    postcss.config.mjs
    src/app/globals.css
    src/app/layout.tsx
    src/app/page.tsx
    .gitignore
  </files>
  <action>
    This step requires human-initiated scaffolding because `create-next-app` is an interactive CLI that cannot be reliably automated without TTY.

    Steps to perform:
    1. Create a new GitHub repository named `eurodata` (public or private per preference).
    2. Run the scaffold command:
       ```
       npx create-next-app@14 . --typescript --tailwind --eslint --app --src-dir --import-alias "@/*"
       ```
       Answer the prompts:
       - Would you like to use `src/` directory? Yes
       - Would you like to use App Router? Yes
       - Import alias: @/*
    3. After scaffolding, verify Tailwind version: `npm list tailwindcss`
       - If v4 is installed, downgrade: `npm install tailwindcss@3 autoprefixer postcss`
    4. Push the scaffolded project to the GitHub repo: `git push -u origin main`

    IMPORTANT: Do NOT create any pages inside `src/app/` other than the auto-generated layout.tsx and page.tsx. Plan 02 will restructure the app directory with `[locale]`.
  </action>
  <verify>
    npm run dev starts without errors.
    npm run build completes successfully.
    npx tsc --noEmit exits with code 0.
  </verify>
  <done>Project scaffolded, pushed to GitHub, `npm run build` passes, TypeScript strict mode enabled in tsconfig.json</done>
</task>

<task type="auto">
  <name>Task 2: Configure Tailwind design tokens and next.config.ts</name>
  <files>
    tailwind.config.ts
    src/app/globals.css
    next.config.ts
    .env.local.example
  </files>
  <action>
    Update `tailwind.config.ts` to add the EuroData dashboard color palette under `theme.extend.colors`. Use Tailwind v3 format (`theme.extend.colors` object — NOT CSS `@theme` variables which is v4 syntax).

    Color tokens to add:
    ```typescript
    // tailwind.config.ts
    import type { Config } from 'tailwindcss'

    const config: Config = {
      content: [
        './src/pages/**/*.{js,ts,jsx,tsx,mdx}',
        './src/components/**/*.{js,ts,jsx,tsx,mdx}',
        './src/app/**/*.{js,ts,jsx,tsx,mdx}',
      ],
      theme: {
        extend: {
          colors: {
            brand: {
              primary: '#1E40AF',    // deep blue — data trust
              secondary: '#0F766E',  // teal — positive metrics
              accent: '#DC2626',     // red — alert/negative metrics
              neutral: '#374151',    // dark gray — text/labels
            },
            surface: {
              DEFAULT: '#FFFFFF',
              muted: '#F9FAFB',
              border: '#E5E7EB',
            },
            chart: {
              blue: '#3B82F6',
              teal: '#14B8A6',
              orange: '#F97316',
              purple: '#8B5CF6',
              red: '#EF4444',
              green: '#22C55E',
            }
          }
        }
      },
      plugins: [],
    }
    export default config
    ```

    Update `src/app/globals.css` to include only Tailwind directives and base reset (no hardcoded content):
    ```css
    @tailwind base;
    @tailwind components;
    @tailwind utilities;
    ```

    Ensure `next.config.ts` uses TypeScript import syntax (not CommonJS `require`). The default create-next-app output is usually already `.ts` format:
    ```typescript
    import type { NextConfig } from 'next'

    const nextConfig: NextConfig = {
      // next-intl plugin will be added in Plan 02
    }

    export default nextConfig
    ```

    Create `.env.local.example` to document required environment variables (actual values added after Supabase project is created in Plan 03):
    ```
    NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
    NEXT_PUBLIC_SUPABASE_PUBLISHABLE_KEY=your-publishable-key
    ```

    Ensure `.gitignore` includes `.env.local` (create-next-app adds this by default — verify it exists).
  </action>
  <verify>
    npm run build passes with the updated tailwind.config.ts.
    npx tsc --noEmit passes.
    Verify custom color exists: grep "brand" tailwind.config.ts returns results.
  </verify>
  <done>Tailwind v3 config with custom color tokens committed, next.config.ts uses TypeScript imports, .env.local.example documents required variables</done>
</task>

<task type="checkpoint:human-action">
  <name>Task 3: Connect repository to Vercel and verify CI/CD</name>
  <files>
    vercel.json
  </files>
  <action>
    Connect the GitHub repository to Vercel for automatic CI/CD. This requires dashboard interaction that cannot be done via CLI without a token.

    Steps:
    1. Go to vercel.com → New Project → Import Git Repository → select the `eurodata` repo
    2. Framework Preset: Next.js (auto-detected)
    3. Leave Environment Variables empty for now (Supabase keys will be added in Plan 03)
    4. Click Deploy — wait for initial deployment to succeed
    5. Note the production URL (e.g., `eurodata-xxx.vercel.app`)

    After connecting Vercel, create `vercel.json` at the project root to enforce production settings:
    ```json
    {
      "framework": "nextjs",
      "buildCommand": "npm run build",
      "outputDirectory": ".next"
    }
    ```

    Push `vercel.json` to main — confirm Vercel triggers an automatic deployment from the push.
  </action>
  <verify>
    After pushing vercel.json to main, a new deployment appears in the Vercel dashboard and completes successfully.
    The production URL returns HTTP 200 (home page renders).
  </verify>
  <done>Vercel project connected, automatic CI/CD confirmed — pushing to main triggers production deployment. Production URL documented.</done>
</task>

</tasks>

<verification>
All three must-haves verified:
1. `npm run dev` starts without errors
2. `npm run build` produces a production build (also confirmed by Vercel deployment)
3. `npx tsc --noEmit` passes — strict mode active
4. tailwind.config.ts contains `brand`, `surface`, `chart` color tokens
5. Vercel dashboard shows successful deployment triggered by a git push
</verification>

<success_criteria>
- Next.js 14 App Router project exists with TypeScript strict mode
- Tailwind v3 configured with EuroData dashboard color palette
- `npm run build` passes locally and on Vercel
- GitHub push to main auto-deploys to Vercel production
- `.env.local.example` documents the two required Supabase environment variables
</success_criteria>

<output>
After completion, create `.planning/phases/01-foundation/01-01-SUMMARY.md` with:
- Production URL from Vercel
- Confirmed Tailwind version (v3 or v4 — affects Plan 02's Tailwind usage)
- Node.js version in use
- Any deviations from the research recommendations
</output>
